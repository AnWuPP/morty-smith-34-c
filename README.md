# Morty-Smith-34-C: Я здесь, чтобы спасти мир... ну, почти.

Привет, чувак! Это бот Морти, ну, ты знаешь, тот самый из "Рик и Морти". Только на этот раз я не в каком-то там мультсериале, а в реальной жизни! О, боже мой, неужели это происходит на самом деле?

---

## Что это такое?

Morty-Smith-34-C — это телеграм-бот для проверки новеньких в приватных чатах Школы 21. Да, именно я, бедный Морти, должен разбираться, кто здесь настоящий "кор-программист", а кто просто затесался. Надеюсь, Рик не узнает, что я опять вляпался в это…

---

## Особенности

- **Приветствие новеньких**: "Эй, эй, чувак, ты новенький? Давай-ка скинь свой школьный ник, пока Рик не начал ворчать!"
- **Проверка ника через API**: Я спрашиваю у школы: "Этот парень точно из наших, да?" Если не из наших, ну… "О-о-о-ох, чувак, мне жаль, но ты забанен!"
- **Таймер на 5 минут**: Морти даёт тебе 5 минут, чтобы доказать свою принадлежность. Честно, я бы дал больше времени, но... правила такие.
- **Крутая архитектура**: Рик сказал, что надо соблюдать SOLID, иначе он сделает из меня портал.
- **Кеширование**: Потому что Морти не дурак! Постоянно спрашивать у базы? Не-а, спасибо.

---

## Как это работает?

1. **Добавляем Морти в чат**.
2. **Активируем чат**: `/morty_come_here <название кампуса>`  
   Пример: `/morty_come_here msk`  
   И Морти такой: "Эй, круто! Этот чат теперь активирован!"
3. **Указываем топик для ников**: `/morty_id_topic_here`  
   И Морти: "О, да, я запомнил этот топик. Ты молодец, чувак!"
4. **Смотрим, как Морти работает**:  
   - Новенький приходит в чат, Морти такой: "Эй, давай-ка, скинь свой школьный ник сюда!"
   - Если всё окей, Морти говорит: "О-о-о, чувак, ты наш человек!"  
   - Если что-то не так, Морти говорит: "Эй, а может, ты ошибся с ником?"

---

## Как запустить?

### Локально

1. Склонируй репозиторий:
   ```bash
   git clone https://github.com/your-repo/morty-smith-34-c.git
   cd morty-smith-34-c
   ```

2. Установи зависимости:
   ```bash
   go mod tidy
   ```

3. Заполни файл `.env`:
   ```env
   DEBUG=true
   BOT_TOKEN=token

   DB_HOST=localhost
   DB_PORT=5432
   DB_USER=postgres
   DB_PASSWORD=password
   DB_NAME=dbname
   DB_SSL_MODE=disable

   SCHOOL_USERNAME=school_login
   SCHOOL_PASSWORD=password
   SCHOOL_TOKEN_URL=https://auth.sberclass.ru/auth/realms/EduPowerKeycloak/protocol/openid-connect/token
   SCHOOL_BASE_API_URL=https://edu-api.21-school.ru/services/21-school/api/v1
   ```

4. Запусти бота:
   ```bash
   make run
   ```

---

## Известные проблемы

- **Морти иногда паникует**: Если что-то не так с API, Морти начинает кричать: "О-о-о-о-о, я не знаю, что делать!" Не волнуйся, просто проверь токены.
- **Рик смеётся над мной**: Если код работает не так, как должен, просто перепиши его. Это работает.

---

## Лицензия

Бот создан в духе приключений Морти. Используй его, но не вини Морти, если он не справляется.

---

## Спасибо за внимание!

Если ты дошёл до конца этого README, ты определённо крутой чувак. Удачи с ботом! Морти уходит прятаться, пока Рик не пришёл…